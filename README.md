# fasttransform


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Installation

Install latest from the GitHub
[repository](https://github.com/AnswerDotAI/fasttransform):

``` sh
$ pip install git+https://github.com/AnswerDotAI/fasttransform.git
```

or from [pypi](https://pypi.org/project/fasttransform/)

``` sh
$ pip install fasttransform
```

## Quick start

This section is based on Chapter 11 of [Deep Learning for Coders with
Fastai and Pytorch: AI Applications Without a
PhD](https://course.fast.ai/Resources/book.html) by Jeremy Howard and
Sylvain Gugger (2020).

### Transform

Transform is a class that lets you create reusable data transformations
with optional setup and decode methods. It behaves like a function but
provides additional functionality for data preprocessing pipelines.

The simplest way to create a Transform is by decorating a function:

``` python
from fasttransform.transform import Transform
from fasttransform.pipeline import Pipeline
```

``` python
@Transform
def add_one(x: int): 
    return x + 1

# Usage
add_one(2)    # Returns 3
```

    3

Transforms are **flexible**. You can specify multiple transforms with
different type annotations and it will automatically pick up the correct
one.

``` python
def inc1(x:int): return x+1
def inc2(x:str): return x+"a"

t = Transform(enc=(inc1,inc2))

t(5), t('b')
```

    (6, 'ba')

If an input type does not match any of the type annotations then the
original input is returned.

``` python
add_one(2.0)  # Returns 2.0 because the type annotation doesn't match
```

    2.0

Transforms are **reversible**, if you provide a decode function.

``` python
def enc(x): return x*2
def dec(x): return x//2

t = Transform(enc,dec)

t(2), t.decode(2), t.decode(t(2))
```

    (4, 1, 2)

Transforms can be **setup**, this may be useful when you want to set
scaling parameters based on your training split in your machine learning
pipeline.

``` python
class NormalizeMean(Transform):
    def setups(self, items): 
        self.mean = sum(items) / len(items)
    
    def encodes(self, x): 
        return x - self.mean
    
    def decodes(self, x): 
        return x + self.mean

normalize = NormalizeMean()
normalize.setup([1, 2, 3, 4, 5])  # Calculates mean
normalize.mean
```

    3.0

``` python
normalize(3)
```

    0.0

Transforms are **extendedible**, this may be useful when you want to
create one Transform that can handle different data types.

``` python
@NormalizeMean
def encodes(self, x:float): return x + self.mean + 5

@NormalizeMean
def decodes(self, x:float): return x + self.mean + 5

normalize(2.0)
```

    10.0

## Pipelines

Transforms can be combined into larger **Pipelines**:

``` python
p = Pipeline((t, normalize))

p(5)  # 5 * 2 - 3
```

    7.0

``` python
p.decode(7) # (7 + 3) / 2
```

    5.0

## Documentation

This was just a quickstart. Learn more by reading the
[documentation](https://github.io/AnswerDotAI/fasttransform).
